<!DOCTYPE HTML>
<html style="margin-left: 5%; margin-right: 5%; background-color: grey;">
<head><title>Palindrome String Check</title>
</head>
<body style="background-color: white; width: 100%; height: 100%;">
<h1 id="vineeth" style="font-family: Century Gothic;" align="center"><font color="#673AB7">Palindrome</font></h1>

<ul id="dynamic-list"></ul>
<center><input type="text" id="myText" value=""> <div id="pl"> </div></center> 
<center><button onclick="palindrome()">Check</button></center>
<h3 align="center" style="font-family: Palatino Linotype;" id="inputString"></h3>
<h3 align="center" style="font-family: Palatino Linotype;" id="demo"></h3>

<script>


 var xhttp = new XMLHttpRequest();
 xhttp.onreadystatechange = function() {
   if (this.readyState == 4 && this.status == 200) {
     //document.getElementById("vineeth").innerHTML =
     //this.responseText;
	  var ul = document.getElementById("dynamic-list");
	  var arr = JSON.parse(this.responseText);
	  console.log(arr)
	  
	  for (var i = 0; i < arr.length; i++){
    var obj = arr[i];
	console.log(obj.id)
	console.log(obj.message)
	var li = document.createElement("li");
			  li.setAttribute('id',obj.id);
			 // li.appendChild(document.createTextNode(obj.message));
//			  li.appendChild()
			 
			  
			  			  var aTag = document.createElement('a');
aTag.setAttribute('href',"http://localhost:8082/users/" + obj.id);
aTag.innerHTML = obj.message;
li.appendChild(aTag);
 ul.appendChild(li);


    /* for (var key in obj){ 
			if (key != "id") {
				var attrName = key;
				var attrValue = obj[key];
				//console.log(attrValue);
					  }
    } */
}
	  
	  

   }
 };
 xhttp.open("GET", "http://localhost:8082/users", true);
 xhttp.send();
 
 function palindrome (){
 
 var input = document.getElementById("myText").value;
 console.log("text is ", input)
 var msg = "";
  for (var i = input.length -1; i  >= 0; i--){ 
  
	msg += input[i]
	
	}
	
	console.log(msg);
	console.log(input);
	
	if (input === msg) {
	
	console.log ("given message is palindrome");
	document.getElementById("pl").innerHTML = "palindrome";
	
	}
	
	else {console.log("Given messag eis not palindrome");
	document.getElementById("pl").innerHTML = "Not a Palindrome";
	
	}
	
	
	}
	
	
 
 
</script>


</body>
</html>